# Patient Portal - Document Management System

## Project Overview

This is a full-stack application designed for healthcare patients to manage their medical records. It allows users to securely upload, view, download, and delete PDF documents.

The project is built using a **Client-Server Architecture**:

- **Frontend:** React (Vite) + Tailwind CSS
- **Backend:** Node.js + Express
- **Database:** PostgreSQL (via Supabase)
- **File Storage:** Local Server Storage (`uploads/` directory)

---

## üöÄ How to Run Locally

### Prerequisites

- Node.js (v16 or higher)
- npm (Node Package Manager)
- A Supabase project (for the PostgreSQL database)

### Step 1: Clone the Repository

```bash
git clone <your-repo-link>
cd <your-project-folder>

Step 2: Backend Setup
Navigate to the backend folder:

Bash

cd backend
Install dependencies:

Bash

npm install
Configuration: Create a .env file in the backend/ root directory and add your Supabase connection string:

Code snippet

# NOTE: use pooled connection if on ipv4 network.
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.xxxx.supabase.co:6543/postgres" #direct connection
PORT=5000
Start the Server:

Bash

npm run dev
# The server should start on http://localhost:5000
Step 3: Frontend Setup
Open a new terminal and navigate to the frontend folder:

Bash

cd frontend
Install dependencies:

Bash

npm install
Start the React Application:

Bash

npm run dev
# The UI should be accessible at http://localhost:5173
üì° Example API Calls (cURL)
You can test the backend API directly using terminal commands (cURL) or Postman.

1. Upload a Document
Endpoint: POST /api/documents/upload

Note: Replace path/to/your/file.pdf with an actual file path on your machine.

Bash

curl -X POST http://localhost:5000/api/documents/upload \
  -F "file=@/Users/username/Documents/medical_report.pdf"
2. List All Documents
Endpoint: GET /api/documents

Bash

curl http://localhost:5000/api/documents
3. Download a Document
Endpoint: GET /api/documents/:id

Note: Replace 1 with an actual ID from the list response. The -O flag saves the file with its remote name.

Bash

curl -OJ http://localhost:5000/api/documents/1
4. Delete a Document
Endpoint: DELETE /api/documents/:id

Note: Replace 1 with the ID of the file you want to delete.

Bash

curl -X DELETE http://localhost:5000/api/documents/1
üõ†Ô∏è Database Schema
You can create the required table in your Supabase SQL Editor with this query:

SQL

CREATE TABLE documents (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  filename TEXT NOT NULL,
  filepath TEXT NOT NULL,
  filesize BIGINT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);
```
